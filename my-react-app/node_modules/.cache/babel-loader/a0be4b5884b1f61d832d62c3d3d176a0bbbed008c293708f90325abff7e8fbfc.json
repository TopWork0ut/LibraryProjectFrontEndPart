{"ast":null,"code":"var _jsxFileName = \"D:\\\\nulp\\\\6_semester\\\\PZ-documenting\\\\project\\\\frontend\\\\LibraryProjectFrontEndPart\\\\my-react-app\\\\src\\\\requests\\\\rerer.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\n\n// KEYCLOACK\nimport Keycloak from 'keycloak-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KeycloackContext = /*#__PURE__*/createContext();\nconst KeycloackContextProvider = props => {\n  _s();\n  const [keycloackValue, setKeycloackValue] = useState(null);\n  const [authenticated, setAuthenticated] = useState(false);\n  const setKeycloack = () => {\n    const keycloak = Keycloak({\n      realm: process.env.REACT_APP_WULING_KEYCLOAK_REALM,\n      url: process.env.REACT_APP_WULING_KEYCLOAK_URL,\n      clientId: process.env.REACT_APP_WULING_KEYCLOAK_CLIENTID\n    });\n    keycloak.init({\n      onLoad: 'login-required'\n      // checkLoginIframe: false, // remove checkLoginIframe here\n    }).then(authenticated => {\n      setKeycloackValue(keycloak);\n      setAuthenticated(authenticated);\n    });\n  };\n  const logout = () => {\n    setKeycloack(null);\n    setAuthenticated(false);\n    keycloackValue.logout();\n  };\n  useEffect(() => {\n    setKeycloack();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(KeycloackContext.Provider, {\n    value: {\n      keycloackValue,\n      authenticated,\n      logout\n    },\n    children: props['children']\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(KeycloackContextProvider, \"WVI4Nwb3vpzEv4ZT6/s7ooB5LGY=\");\n_c = KeycloackContextProvider;\nexport { KeycloackContextProvider, KeycloackContext };\nvar _c;\n$RefreshReg$(_c, \"KeycloackContextProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","Keycloak","jsxDEV","_jsxDEV","KeycloackContext","KeycloackContextProvider","props","_s","keycloackValue","setKeycloackValue","authenticated","setAuthenticated","setKeycloack","keycloak","realm","process","env","REACT_APP_WULING_KEYCLOAK_REALM","url","REACT_APP_WULING_KEYCLOAK_URL","clientId","REACT_APP_WULING_KEYCLOAK_CLIENTID","init","onLoad","then","logout","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/nulp/6_semester/PZ-documenting/project/frontend/LibraryProjectFrontEndPart/my-react-app/src/requests/rerer.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\r\n\r\n// KEYCLOACK\r\nimport Keycloak from 'keycloak-js'\r\n\r\nconst KeycloackContext = createContext()\r\n\r\nconst KeycloackContextProvider = (props) => {\r\n    const [ keycloackValue, setKeycloackValue ] = useState(null)\r\n    const [ authenticated, setAuthenticated ] = useState(false)\r\n\r\n    const setKeycloack = () => {\r\n        const keycloak = Keycloak({\r\n            realm: process.env.REACT_APP_WULING_KEYCLOAK_REALM,\r\n            url: process.env.REACT_APP_WULING_KEYCLOAK_URL,\r\n            clientId: process.env.REACT_APP_WULING_KEYCLOAK_CLIENTID,\r\n        })\r\n\r\n        keycloak.init({\r\n            onLoad: 'login-required', \r\n            // checkLoginIframe: false, // remove checkLoginIframe here\r\n        }).then(authenticated => {\r\n            setKeycloackValue(keycloak)\r\n            setAuthenticated(authenticated)\r\n        })\r\n    }\r\n\r\n    const logout = () => {\r\n        setKeycloack(null)\r\n        setAuthenticated(false)\r\n        keycloackValue.logout()\r\n    }\r\n\r\n    useEffect(() => {\r\n        setKeycloack()\r\n    }, [])\r\n\r\n    return (\r\n        <KeycloackContext.Provider\r\n            value={{\r\n                keycloackValue,\r\n                authenticated,\r\n                logout\r\n            }}\r\n        >\r\n            {props['children']}\r\n        </KeycloackContext.Provider>\r\n    )\r\n}\r\n\r\nexport { KeycloackContextProvider, KeycloackContext }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAEjE;AACA,OAAOC,QAAQ,MAAM,aAAa;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,gBAAgB,gBAAGN,aAAa,CAAC,CAAC;AAExC,MAAMO,wBAAwB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACxC,MAAM,CAAEC,cAAc,EAAEC,iBAAiB,CAAE,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAEW,aAAa,EAAEC,gBAAgB,CAAE,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE3D,MAAMa,YAAY,GAAGA,CAAA,KAAM;IACvB,MAAMC,QAAQ,GAAGZ,QAAQ,CAAC;MACtBa,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,+BAA+B;MAClDC,GAAG,EAAEH,OAAO,CAACC,GAAG,CAACG,6BAA6B;MAC9CC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK;IAC1B,CAAC,CAAC;IAEFR,QAAQ,CAACS,IAAI,CAAC;MACVC,MAAM,EAAE;MACR;IACJ,CAAC,CAAC,CAACC,IAAI,CAACd,aAAa,IAAI;MACrBD,iBAAiB,CAACI,QAAQ,CAAC;MAC3BF,gBAAgB,CAACD,aAAa,CAAC;IACnC,CAAC,CAAC;EACN,CAAC;EAED,MAAMe,MAAM,GAAGA,CAAA,KAAM;IACjBb,YAAY,CAAC,IAAI,CAAC;IAClBD,gBAAgB,CAAC,KAAK,CAAC;IACvBH,cAAc,CAACiB,MAAM,CAAC,CAAC;EAC3B,CAAC;EAEDzB,SAAS,CAAC,MAAM;IACZY,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIT,OAAA,CAACC,gBAAgB,CAACsB,QAAQ;IACtBC,KAAK,EAAE;MACHnB,cAAc;MACdE,aAAa;MACbe;IACJ,CAAE;IAAAG,QAAA,EAEDtB,KAAK,CAAC,UAAU;EAAC;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEpC,CAAC;AAAAzB,EAAA,CAzCKF,wBAAwB;AAAA4B,EAAA,GAAxB5B,wBAAwB;AA2C9B,SAASA,wBAAwB,EAAED,gBAAgB;AAAE,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}